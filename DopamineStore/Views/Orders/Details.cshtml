@model Order
@{
    ViewData["Title"] = "تفاصيل الطلب #" + Model.Id;
    Layout = "_ProfileLayout";
}

<h4 class="profile-content-title">@ViewData["Title"]</h4>

<div class="profile-content-card">
    <div class="row">
        <div class="col-md-6">
            <h5>معلومات الطلب</h5>
            <ul class="list-unstyled info-list">
                <li><i class="fas fa-calendar-alt"></i> <strong>تاريخ الطلب:</strong> @Model.OrderDate.ToString("g")</li>
                <li><i class="fas fa-credit-card"></i> <strong>طريقة الدفع:</strong> @Model.PaymentMethod</li>
                <li><i class="fas fa-info-circle"></i> <strong>الحالة:</strong> <span class="text-dark badge rounded-pill status-badge status-@Model.OrderStatus.ToLower().Replace(" ", "-")">@Model.OrderStatus</span></li>
            </ul>
        </div>
        <div class="col-md-6">
            <h5>معلومات الشحن</h5>
            <ul class="list-unstyled info-list">
                <li><i class="fas fa-user"></i> <strong>الاسم:</strong> @Model.CustomerName</li>
                <li><i class="fas fa-phone"></i> <strong>الهاتف:</strong> @Model.PhoneNumber</li>
                <li><i class="fas fa-map-marker-alt"></i> <strong>العنوان:</strong> @Model.ShippingAddress, @Model.City</li>
            </ul>
        </div>
    </div>

    <hr class="my-4">

    <h5>المنتجات</h5>
    <div class="table-responsive">
        <table class="table align-middle order-details-table">
            <thead>
                <tr>
                    <th>المنتج</th>
                    <th class="text-center">الكمية</th>
                    <th class="text-center">سعر الوحدة</th>
                    <th class="text-end">الإجمالي</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var detail in Model.OrderDetails)
                {
                    <tr>
                        <td class="product-name">@detail.Product.Name</td>
                        <td class="text-center">x @detail.Quantity</td>
                        <td class="text-center">@detail.UnitPrice.ToString("C")</td>
                        <td class="text-end fw-bold">@((detail.Quantity * detail.UnitPrice).ToString("C"))</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3" class="text-end border-0"><strong>الإجمالي النهائي للطلب:</strong></td>
                    <td class="text-end border-0 h5 text-success"><strong>@Model.TotalAmount.ToString("C")</strong></td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
